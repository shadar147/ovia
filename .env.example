# Ovia — production environment variables
# Copy to .env and fill in real values before deploying.

# Postgres
POSTGRES_DB=ovia
POSTGRES_USER=ovia
POSTGRES_PASSWORD=CHANGE_ME

# Application
DATABASE_URL=postgres://ovia:CHANGE_ME@postgres:5432/ovia
REDIS_URL=redis://redis:6379
HOST=0.0.0.0
PORT=8080
LOG_LEVEL=info

# Caddy / TLS
DOMAIN=ovia.example.com

# Jira connector (optional — ingest service skips if not set)
# JIRA_PROJECT_KEYS is REQUIRED when Jira creds are set (fail-fast otherwise)
JIRA_BASE_URL=https://your-domain.atlassian.net
JIRA_EMAIL=your-email@example.com
JIRA_API_TOKEN=your-api-token
JIRA_PROJECT_KEYS=DEV,OPS,INFRA
JIRA_SYNC_WINDOW_DAYS=7
JIRA_MAX_RETRIES=3
JIRA_TIMEOUT_SECS=30

# GitLab connector (optional — ingest service skips if not set)
GITLAB_BASE_URL=https://gitlab.example.com
GITLAB_PRIVATE_TOKEN=your-private-token
GITLAB_MAX_RETRIES=3
GITLAB_TIMEOUT_SECS=30

# Confluence connector (optional — ingest service skips if not set)
CONFLUENCE_BASE_URL=https://your-domain.atlassian.net
CONFLUENCE_EMAIL=your-email@example.com
CONFLUENCE_API_TOKEN=your-api-token
CONFLUENCE_MAX_RETRIES=3
CONFLUENCE_TIMEOUT_SECS=30

# Monitoring
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME

# Backup
BACKUP_RETENTION_DAILY=7
BACKUP_RETENTION_WEEKLY=4

# Docker image (set by CI or manual build)
OVIA_IMAGE=ovia-backend:latest
